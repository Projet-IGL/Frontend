<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>nom-du-projet documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">nom-du-projet documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  RechDpiPageComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/pages/rech-dpi-page/rech-dpi-page.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Composant représentant la page de recherche de DPI (Dossier Patient Informatisé).
Ce composant permet de scanner des QR codes, de sélectionner une image de QR code et de rechercher des patients.</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-rech-dpi-page</code></td>
            </tr>


            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                                <code><a href="../components/AddDpiNavBarComponent.html" target="_self" >AddDpiNavBarComponent</a></code>
                            <code>ZXingScannerModule</code>
                            <code>QRCodeComponent</code>
                            <code>CommonModule</code>
                            <code>FormsModule</code>
                </td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./rech-dpi-page.component.html</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrl</td>
                <td class="col-md-9"><code>./rech-dpi-page.component.css</code></td>
            </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#dataToEncode" >dataToEncode</a>
                            </li>
                            <li>
                                <a href="#filteredPatientsList" >filteredPatientsList</a>
                            </li>
                            <li>
                                <a href="#isScanning" >isScanning</a>
                            </li>
                            <li>
                                <a href="#patients" >patients</a>
                            </li>
                            <li>
                                <a href="#qrData" >qrData</a>
                            </li>
                            <li>
                                <a href="#searchValue" >searchValue</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#closeScanner" >closeScanner</a>
                            </li>
                            <li>
                                <a href="#filter" >filter</a>
                            </li>
                            <li>
                                <a href="#goToPatientPage" >goToPatientPage</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onCodeScanned" >onCodeScanned</a>
                            </li>
                            <li>
                                <a href="#onFileSelected" >onFileSelected</a>
                            </li>
                            <li>
                                <a href="#toggleScanner" >toggleScanner</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(router: Router, rechercheService: <a href="../injectables/RechercheService.html" target="_self">RechercheService</a>, patientService: <a href="../injectables/PatientService.html" target="_self">PatientService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:22</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructeur pour initialiser le composant avec les services nécessaires.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                    <code>Router</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Service pour la gestion de la navigation entre les pages.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>rechercheService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/RechercheService.html" target="_self" >RechercheService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Service pour la recherche des patients.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>patientService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PatientService.html" target="_self" >PatientService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Service pour la gestion des données du patient.</li>
</ul>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeScanner"></a>
                    <span class="name">
                        <span ><b>closeScanner</b></span>
                        <a href="#closeScanner"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeScanner()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="56"
                                    class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:56</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Ferme le scanner en le désactivant.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filter"></a>
                    <span class="name">
                        <span ><b>filter</b></span>
                        <a href="#filter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>filter()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="138"
                                    class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:138</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Filtre la liste des patients en fonction de la valeur saisie dans le champ de recherche.
Appelle le service pour rechercher les patients correspondants.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="goToPatientPage"></a>
                    <span class="name">
                        <span ><b>goToPatientPage</b></span>
                        <a href="#goToPatientPage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>goToPatientPage(patient: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="77"
                                    class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:77</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Redirige vers la page du patient en passant les informations du patient via le service.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>patient</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>L&#39;objet représentant le patient sélectionné.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="127"
                                    class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:127</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Méthode exécutée au démarrage du composant. Récupère les données des patients via le service.
Cette méthode est appelée lors de l&#39;initialisation du composant.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onCodeScanned"></a>
                    <span class="name">
                        <span ><b>onCodeScanned</b></span>
                        <a href="#onCodeScanned"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onCodeScanned(result: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="65"
                                    class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:65</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère l&#39;événement de scan d&#39;un code QR. Récupère les données du QR code et effectue une recherche.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>result</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Données extraites du code QR scanné.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onFileSelected"></a>
                    <span class="name">
                        <span ><b>onFileSelected</b></span>
                        <a href="#onFileSelected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onFileSelected(event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="87"
                                    class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:87</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère la sélection d&#39;un fichier image contenant un QR code. Le code QR est extrait et utilisé pour rechercher un patient.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>L&#39;événement de sélection de fichier.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleScanner"></a>
                    <span class="name">
                        <span ><b>toggleScanner</b></span>
                        <a href="#toggleScanner"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleScanner()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="49"
                                    class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:49</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Bascule l&#39;état du scanner (active ou désactive la fonctionnalité de scan).</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dataToEncode"></a>
                    <span class="name">
                        <span ><b>dataToEncode</b></span>
                        <a href="#dataToEncode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;123&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:36</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Valeur par défaut à encoder dans le QR code (ici un exemple de NSS).</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filteredPatientsList"></a>
                    <span class="name">
                        <span ><b>filteredPatientsList</b></span>
                        <a href="#filteredPatientsList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>any[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:44</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste filtrée des patients, utilisée pour afficher les résultats.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isScanning"></a>
                    <span class="name">
                        <span ><b>isScanning</b></span>
                        <a href="#isScanning"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:34</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Contrôle l&#39;état du scanner (activation/désactivation).</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="patients"></a>
                    <span class="name">
                        <span ><b>patients</b></span>
                        <a href="#patients"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>any[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:42</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Tableau des patients récupérés.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="qrData"></a>
                    <span class="name">
                        <span ><b>qrData</b></span>
                        <a href="#qrData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:38</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Données du QR code scanné.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchValue"></a>
                    <span class="name">
                        <span ><b>searchValue</b></span>
                        <a href="#searchValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/pages/rech-dpi-page/rech-dpi-page.component.ts:40</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Valeur saisie pour rechercher un patient.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, HostListener, OnInit } from &#x27;@angular/core&#x27;;
import { AddDpiNavBarComponent } from &quot;../../components/add-dpi-nav-bar/add-dpi-nav-bar.component&quot;;
import { ZXingScannerModule } from &#x27;@zxing/ngx-scanner&#x27;;
import { QRCodeComponent } from &#x27;angularx-qrcode&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;; // Ajoutez CommonModule
import { Router } from &#x27;@angular/router&#x27;;
import { RechercheService } from &#x27;../../services/recherche.service&#x27;;
import { FormsModule } from &#x27;@angular/forms&#x27;; // Importez FormsModule
import { PatientService } from &#x27;../../services/patient.service&#x27;;
import jsQR from &#x27;jsqr&#x27;;

/**
 * Composant représentant la page de recherche de DPI (Dossier Patient Informatisé).
 * Ce composant permet de scanner des QR codes, de sélectionner une image de QR code et de rechercher des patients.
 */
@Component({
  selector: &#x27;app-rech-dpi-page&#x27;, // Sélecteur du composant
  imports: [AddDpiNavBarComponent, ZXingScannerModule, QRCodeComponent, CommonModule, FormsModule], // Dépendances du composant
  templateUrl: &#x27;./rech-dpi-page.component.html&#x27;, // Template HTML pour ce composant
  styleUrl: &#x27;./rech-dpi-page.component.css&#x27; // Feuille de style CSS pour ce composant
})
export class RechDpiPageComponent implements OnInit {
  
  /**
   * Constructeur pour initialiser le composant avec les services nécessaires.
   * 
   * @param {Router} router - Service pour la gestion de la navigation entre les pages.
   * @param {RechercheService} rechercheService - Service pour la recherche des patients.
   * @param {PatientService} patientService - Service pour la gestion des données du patient.
   */
  constructor(private router: Router, private rechercheService: RechercheService, private patientService: PatientService) {}

  /** Contrôle l&#x27;état du scanner (activation/désactivation). */
  isScanning: boolean &#x3D; false;
  /** Valeur par défaut à encoder dans le QR code (ici un exemple de NSS). */
  dataToEncode: string &#x3D; &#x27;123&#x27;;
  /** Données du QR code scanné. */
  qrData: string | null &#x3D; null;
  /** Valeur saisie pour rechercher un patient. */
  searchValue: string &#x3D; &#x27;&#x27;;
  /** Tableau des patients récupérés. */
  patients: any[] &#x3D; [];
  /** Liste filtrée des patients, utilisée pour afficher les résultats. */
  filteredPatientsList: any[] &#x3D; [];

  /**
   * Bascule l&#x27;état du scanner (active ou désactive la fonctionnalité de scan).
   */
  toggleScanner(): void {
    this.isScanning &#x3D; !this.isScanning;
  }

  /**
   * Ferme le scanner en le désactivant.
   */
  closeScanner(): void {
    this.isScanning &#x3D; false;
  }

  /**
   * Gère l&#x27;événement de scan d&#x27;un code QR. Récupère les données du QR code et effectue une recherche.
   * 
   * @param {string} result - Données extraites du code QR scanné.
   */
  onCodeScanned(result: string): void {
    console.log(&#x27;Code scanné:&#x27;, result);
    this.searchValue &#x3D; result; // Assignation des données du QR à la variable de recherche
    this.filter(); // Filtrer les patients en fonction de la valeur scannée
    this.isScanning &#x3D; false; // Désactiver le scanner
  }

  /**
   * Redirige vers la page du patient en passant les informations du patient via le service.
   * 
   * @param {any} patient - L&#x27;objet représentant le patient sélectionné.
   */
  goToPatientPage(patient: any): void {
    this.patientService.setPatient(patient); // Stocker les données du patient dans le service
    this.router.navigate([&#x27;/Rech-dpi/Patient&#x27;]); // Rediriger vers la page du patient
  }

  /**
   * Gère la sélection d&#x27;un fichier image contenant un QR code. Le code QR est extrait et utilisé pour rechercher un patient.
   * 
   * @param {Event} event - L&#x27;événement de sélection de fichier.
   */
  onFileSelected(event: Event): void {
    const input &#x3D; event.target as HTMLInputElement;
    if (input.files &amp;&amp; input.files.length &gt; 0) {
      const file &#x3D; input.files[0];
      const reader &#x3D; new FileReader();

      reader.onload &#x3D; () &#x3D;&gt; {
        const img &#x3D; new Image();
        img.src &#x3D; reader.result as string;

        img.onload &#x3D; () &#x3D;&gt; {
          const canvas &#x3D; document.createElement(&#x27;canvas&#x27;);
          canvas.width &#x3D; img.width;
          canvas.height &#x3D; img.height;

          const context &#x3D; canvas.getContext(&#x27;2d&#x27;);
          if (context) {
            context.drawImage(img, 0, 0, img.width, img.height);
            const imageData &#x3D; context.getImageData(0, 0, img.width, img.height);
            const code &#x3D; jsQR(imageData.data, imageData.width, imageData.height);

            if (code) {
              this.qrData &#x3D; code.data; // Extraire les données du QR code
              this.searchValue &#x3D; this.qrData; // Assigner la valeur extraite pour la recherche
              this.filter(); // Filtrer les patients avec la nouvelle valeur
            } else {
              this.qrData &#x3D; &#x27;QR Code non détecté.&#x27;; // Message d&#x27;erreur si QR code non détecté
            }
          }
        };
      };

      reader.readAsDataURL(file); // Lire l&#x27;image en tant qu&#x27;URL de données
    }
  }

  /**
   * Méthode exécutée au démarrage du composant. Récupère les données des patients via le service.
   * Cette méthode est appelée lors de l&#x27;initialisation du composant.
   */
  ngOnInit(): void {
    this.rechercheService.getData(this.searchValue).subscribe((data) &#x3D;&gt; {
      this.patients &#x3D; data; // Stocker les données des patients
      this.filteredPatientsList &#x3D; [...this.patients]; // Initialiser la liste filtrée avec tous les patients
    });
  }

  /**
   * Filtre la liste des patients en fonction de la valeur saisie dans le champ de recherche.
   * Appelle le service pour rechercher les patients correspondants.
   */
  filter(): void {
    // Vérifier si la valeur saisie est vide
    if (!this.searchValue) {
      console.log(&quot;Aucune valeur NSS saisie&quot;);
      this.filteredPatientsList &#x3D; []; // Réinitialiser la liste filtrée
      return;
    }

    console.log(&quot;NSS VALUE&quot;, this.searchValue);

    // Appeler le service pour rechercher les données
    this.rechercheService.getData(this.searchValue).subscribe(
      (response) &#x3D;&gt; {
        console.log(&quot;Données reçues du backend :&quot;, response);

        // Le backend renvoie une seule structure avec les données du patient
        const patient &#x3D; response;

        // Initialiser les listes avec le patient trouvé
        this.patients &#x3D; [patient];
        this.filteredPatientsList &#x3D; [...this.patients];
      },
      (error) &#x3D;&gt; {
        console.error(&quot;Erreur lors de la recherche des patients : &quot;, error);

        // Réinitialiser les listes en cas d&#x27;erreur
        this.patients &#x3D; [];
        this.filteredPatientsList &#x3D; [];
      }
    );
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;&quot;&gt;
    &lt;app-add-dpi-nav-bar&gt;&lt;/app-add-dpi-nav-bar&gt;
    &lt;div class&#x3D;&quot;Rech-container&quot;&gt;
        &lt;div class&#x3D;&quot;bar&quot;&gt;
              &lt;div class&#x3D;&quot;flex items-center&quot;&gt;
               &lt;input type&#x3D;&quot;text&quot; [(ngModel)]&#x3D;&quot;searchValue&quot; placeholder&#x3D;&quot;Entrez un NSS&quot; class&#x3D;&quot;search-bar&quot;&gt;
               &lt;span (click)&#x3D;&quot;filter()&quot; class&#x3D;&quot;material-symbols-outlined search-icone&quot;&gt; search&lt;/span&gt;
              &lt;/div&gt;
               &lt;button (click)&#x3D;&quot;toggleScanner()&quot; class&#x3D;&quot;scanner-btn&quot;&gt;Scanner &lt;span class&#x3D;&quot;material-symbols-outlined&quot;&gt; qr_code_scanner&lt;/span&gt;&lt;/button&gt;
               &lt;div&gt;
                &lt;button (click)&#x3D;&quot;fileInput.click()&quot; class&#x3D;&quot;photo-scanner&quot;&gt;Charger un QRcode&lt;/button&gt;
                &lt;input
                  type&#x3D;&quot;file&quot;
                  #fileInput
                  accept&#x3D;&quot;image/*&quot;
                  (change)&#x3D;&quot;onFileSelected($event)&quot;
                  hidden
                /&gt;
              &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;scanner-container&quot; *ngIf&#x3D;&quot;isScanning&quot;&gt;
               &lt;zxing-scanner #scannerRef class&#x3D;&quot;scanner&quot; [enable]&#x3D;&quot;isScanning&quot; (scanSuccess)&#x3D;&quot;onCodeScanned($event)&quot;&gt;&lt;/zxing-scanner&gt;
                        &lt;!-- Icône close pour fermer le scanner --&gt;
               &lt;span *ngIf&#x3D;&quot;isScanning&quot; class&#x3D;&quot;material-symbols-outlined close-icon&quot; (click)&#x3D;&quot;closeScanner()&quot;&gt;close&lt;/span&gt;
        &lt;/div&gt;
        &lt;!-- &lt;qrcode [qrdata]&#x3D;&quot;dataToEncode&quot; [width]&#x3D;&quot;200&quot; [errorCorrectionLevel]&#x3D;&quot;&#x27;M&#x27;&quot;&gt;&lt;/qrcode&gt; --&gt;

        &lt;div class&#x3D;&quot;blue-container&quot;&gt;
           &lt;h3 class&#x3D;&quot;Rech-title&quot;&gt;Recherche DPI :&lt;/h3&gt;
          &lt;div class&#x3D;&quot;white-container&quot;&gt;
          &lt;table&gt;
          &lt;thead&gt;
          &lt;tr&gt;
            &lt;th&gt;Patient&lt;/th&gt;
            &lt;th&gt;NSS&lt;/th&gt;
            &lt;th&gt;&lt;/th&gt;
          &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
          &lt;tr *ngFor&#x3D;&quot;let patient of filteredPatientsList&quot;&gt;
            &lt;td&gt;{{ patient.patient_data.last_name }}{{&quot; &quot;}}{{ patient.patient_data.first_name }}&lt;/td&gt;
            &lt;td&gt;{{ patient.patient_data.nss }}&lt;/td&gt;
            &lt;td class&#x3D;&quot;align&quot; (click)&#x3D;&quot;goToPatientPage(patient)&quot;&gt;voir plus &lt;span class&#x3D;&quot;material-symbols-outlined&quot;&gt; arrow_right_alt&lt;/span&gt;&lt;/td&gt;
          &lt;/tr&gt;
          &lt;/tbody&gt;
          &lt;/table&gt;
          &lt;/div&gt;
       &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</code></pre>
    </div>


    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="">    <app-add-dpi-nav-bar></app-add-dpi-nav-bar>    <div class="Rech-container">        <div class="bar">              <div class="flex items-center">               <input type="text" [(ngModel)]="searchValue" placeholder="Entrez un NSS" class="search-bar">               <span (click)="filter()" class="material-symbols-outlined search-icone"> search</span>              </div>               <button (click)="toggleScanner()" class="scanner-btn">Scanner <span class="material-symbols-outlined"> qr_code_scanner</span></button>               <div>                <button (click)="fileInput.click()" class="photo-scanner">Charger un QRcode</button>                <input                  type="file"                  #fileInput                  accept="image/*"                  (change)="onFileSelected($event)"                  hidden                />              </div>        </div>        <div class="scanner-container" *ngIf="isScanning">               <zxing-scanner #scannerRef class="scanner" [enable]="isScanning" (scanSuccess)="onCodeScanned($event)"></zxing-scanner>                        <!-- Icône close pour fermer le scanner -->               <span *ngIf="isScanning" class="material-symbols-outlined close-icon" (click)="closeScanner()">close</span>        </div>        <!-- <qrcode [qrdata]="dataToEncode" [width]="200" [errorCorrectionLevel]="\'M\'"></qrcode> -->        <div class="blue-container">           <h3 class="Rech-title">Recherche DPI :</h3>          <div class="white-container">          <table>          <thead>          <tr>            <th>Patient</th>            <th>NSS</th>            <th></th>          </tr>          </thead>          <tbody>          <tr *ngFor="let patient of filteredPatientsList">            <td>{{ patient.patient_data.last_name }}{{" "}}{{ patient.patient_data.first_name }}</td>            <td>{{ patient.patient_data.nss }}</td>            <td class="align" (click)="goToPatientPage(patient)">voir plus <span class="material-symbols-outlined"> arrow_right_alt</span></td>          </tr>          </tbody>          </table>          </div>       </div>    </div>  </div></div>'
    var COMPONENTS = [{'name': 'AddBilanComponent', 'selector': 'app-add-bilan'},{'name': 'AddDpiFormComponent', 'selector': 'app-add-dpi-form'},{'name': 'AddDpiHeroComponent', 'selector': 'app-add-dpi-hero'},{'name': 'AddDpiNavBarComponent', 'selector': 'app-add-dpi-nav-bar'},{'name': 'AddDpiPageComponent', 'selector': 'app-add-dpi-page'},{'name': 'AddOrdonnanceComponent', 'selector': 'app-add-ordonnance'},{'name': 'AddStaffPageComponent', 'selector': 'app-add-staff-page'},{'name': 'AjouterBilanBiologiqueComponent', 'selector': 'app-ajouter-bilan-biologique'},{'name': 'AjouterBilanRadiologiqueComponent', 'selector': 'app-ajouter-bilan-radiologique'},{'name': 'AjouterConsultationComponent', 'selector': 'app-ajouter-consultation'},{'name': 'AjouterSoinPageComponent', 'selector': 'app-ajouter-soin-page'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BilanBioPageComponent', 'selector': 'app-bilan-bio-page'},{'name': 'BilanRadioPageComponent', 'selector': 'app-bilan-radio-page'},{'name': 'CompteRenduPageComponent', 'selector': 'app-compte-rendu-page'},{'name': 'ConsultationMedecinPageComponent', 'selector': 'app-consultation-medecin-page'},{'name': 'ConsultationNavbarComponent', 'selector': 'app-consultation-navbar'},{'name': 'DpiConsultationsPageComponent', 'selector': 'app-dpi-consultations-page'},{'name': 'DpiNavbarComponent', 'selector': 'app-dpi-navbar'},{'name': 'DpiPatientPageComponent', 'selector': 'app-dpi-patient-page'},{'name': 'DpiSoinPageComponent', 'selector': 'app-dpi-soin-page'},{'name': 'EmptyNavbarComponent', 'selector': 'app-empty-navbar'},{'name': 'InfoPatientComponent', 'selector': 'app-info-patient'},{'name': 'LandingPageComponent', 'selector': 'app-landing-page'},{'name': 'LoginFormComponent', 'selector': 'app-login-form'},{'name': 'LoginPageComponent', 'selector': 'app-login-page'},{'name': 'MonBilanBioComponent', 'selector': 'app-mon-bilan-bio'},{'name': 'OrdonnancePageComponent', 'selector': 'app-ordonnance-page'},{'name': 'PersonnelFormComponent', 'selector': 'app-personnel-form'},{'name': 'ProfilAdminComponent', 'selector': 'app-profil-admin'},{'name': 'ProfilInfermierComponent', 'selector': 'app-profil-infermier'},{'name': 'ProfilLaborantinComponent', 'selector': 'app-profil-laborantin'},{'name': 'ProfilMedecinComponent', 'selector': 'app-profil-medecin'},{'name': 'ProfilPatientComponent', 'selector': 'app-profil-patient'},{'name': 'ProfilRadiologueComponent', 'selector': 'app-profil-radiologue'},{'name': 'ProfilStaffComponent', 'selector': 'app-profil-staff'},{'name': 'RechDpiPageComponent', 'selector': 'app-rech-dpi-page'},{'name': 'ResumePageComponent', 'selector': 'app-resume-page'},{'name': 'UpFormComponent', 'selector': 'app-up-form'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'RechDpiPageComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'RechDpiPageComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
